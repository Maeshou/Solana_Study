[
  {
    "name": "init_grid",
    "inputs": [
      "ctx: Context < InitGrid >"
    ],
    "nodes": [
      {
        "id": 0,
        "label": "Entry"
      },
      {
        "id": 1,
        "label": "let g = & mut ctx . accounts . grid ;"
      },
      {
        "id": 2,
        "label": "g . node = ctx . accounts . installer . key () ;"
      },
      {
        "id": 3,
        "label": "g . buffer = [0u16 ; 6] ;"
      },
      {
        "id": 4,
        "label": "g . load = 0 ;"
      },
      {
        "id": 5,
        "label": "g . mode = 0 ;"
      },
      {
        "id": 6,
        "label": "Ok (())"
      }
    ],
    "edges": [
      {
        "from": 1,
        "to": 1,
        "label": "def: g"
      },
      {
        "from": 1,
        "to": 2,
        "label": "data_dep: g"
      },
      {
        "from": 1,
        "to": 3,
        "label": "data_dep: g"
      },
      {
        "from": 1,
        "to": 4,
        "label": "data_dep: g"
      },
      {
        "from": 1,
        "to": 5,
        "label": "data_dep: g"
      }
    ]
  },
  {
    "name": "act_cycle",
    "inputs": [
      "ctx: Context < CycleEnergy >",
      "pulse: u16"
    ],
    "nodes": [
      {
        "id": 7,
        "label": "Entry"
      },
      {
        "id": 8,
        "label": "let g = & mut ctx . accounts . grid ;"
      },
      {
        "id": 9,
        "label": "let updater = & ctx . accounts . updater ;"
      },
      {
        "id": 10,
        "label": "for i in 0 .. 6 { let v = (pulse ^ (i as u16) . rotate_left (2)) & 0xFF ; g . buffer [i] = g . buffer [i] . wrapping_add (v) ; }"
      },
      {
        "id": 11,
        "label": "let v = (pulse ^ (i as u16) . rotate_left (2)) & 0xFF ;"
      },
      {
        "id": 12,
        "label": "g . buffer [i] = g . buffer [i] . wrapping_add (v) ;"
      },
      {
        "id": 13,
        "label": "if g . buffer . iter () . all (| & x | x > 1000) { g . load = g . buffer . iter () . sum :: < u16 > () % 2048 ; g . mode = g . load . trailing_zeros () as u8 ; }"
      },
      {
        "id": 14,
        "label": "g . load = g . buffer . iter () . sum :: < u16 > () % 2048 ;"
      },
      {
        "id": 15,
        "label": "g . mode = g . load . trailing_zeros () as u8 ;"
      },
      {
        "id": 16,
        "label": "g . node = updater . key () ;"
      },
      {
        "id": 17,
        "label": "Ok (())"
      }
    ],
    "edges": [
      {
        "from": 8,
        "to": 8,
        "label": "def: g"
      },
      {
        "from": 9,
        "to": 9,
        "label": "def: updater"
      },
      {
        "from": 8,
        "to": 10,
        "label": "data_dep: g"
      },
      {
        "from": 8,
        "to": 10,
        "label": "data_dep: g"
      },
      {
        "from": 11,
        "to": 11,
        "label": "def: v"
      },
      {
        "from": 8,
        "to": 12,
        "label": "data_dep: g"
      },
      {
        "from": 8,
        "to": 12,
        "label": "data_dep: g"
      },
      {
        "from": 11,
        "to": 12,
        "label": "data_dep: v"
      },
      {
        "from": 8,
        "to": 13,
        "label": "data_dep: g"
      },
      {
        "from": 8,
        "to": 13,
        "label": "data_dep: g"
      },
      {
        "from": 8,
        "to": 13,
        "label": "data_dep: g"
      },
      {
        "from": 8,
        "to": 13,
        "label": "data_dep: g"
      },
      {
        "from": 8,
        "to": 13,
        "label": "data_dep: g"
      },
      {
        "from": 8,
        "to": 14,
        "label": "data_dep: g"
      },
      {
        "from": 8,
        "to": 14,
        "label": "data_dep: g"
      },
      {
        "from": 8,
        "to": 15,
        "label": "data_dep: g"
      },
      {
        "from": 8,
        "to": 15,
        "label": "data_dep: g"
      },
      {
        "from": 8,
        "to": 16,
        "label": "data_dep: g"
      },
      {
        "from": 9,
        "to": 16,
        "label": "data_dep: updater"
      }
    ]
  }
]