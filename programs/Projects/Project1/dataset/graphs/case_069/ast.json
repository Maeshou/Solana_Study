[
  {
    "name": "initialize_profile",
    "node_type": "function",
    "fields": null,
    "inputs": [
      "ctx: Context < InitializeProfile >",
      "name: String",
      "bio: String"
    ],
    "attributes": [],
    "body": [
      "let acc = & mut ctx . accounts . profile ;",
      "acc . owner = ctx . accounts . user . key () ;",
      "acc . name = name ;",
      "acc . bio = bio ;",
      "acc . experience = 0 ;",
      "acc . rank = 1 ;",
      "Ok (())"
    ]
  },
  {
    "name": "gain_experience",
    "node_type": "function",
    "fields": null,
    "inputs": [
      "ctx: Context < UpdateProfile >",
      "points: u64"
    ],
    "attributes": [],
    "body": [
      "let acc = & mut ctx . accounts . profile ;",
      "acc . experience = acc . experience . saturating_add (points) ;",
      "acc . rank = 1 + (acc . experience / 1000) ;",
      "Ok (())"
    ]
  },
  {
    "name": "view_profile",
    "node_type": "function",
    "fields": null,
    "inputs": [
      "ctx: Context < UpdateProfile >"
    ],
    "attributes": [],
    "body": [
      "let acc = & ctx . accounts . profile ;",
      "msg ! (\"User: {}\" , acc . name) ;",
      "msg ! (\"Bio : {}\" , acc . bio) ;",
      "msg ! (\"XP  : {}\" , acc . experience) ;",
      "msg ! (\"Rank: {}\" , acc . rank) ;",
      "Ok (())"
    ]
  },
  {
    "name": "InitializeProfile",
    "node_type": "struct",
    "fields": [
      {
        "name": "profile",
        "attribute": "# [account (init , payer = user , space = 8 + 32 + 64 + 256 + 8 + 8 , seeds = [b\"profile\" , user . key () . as_ref ()] , bump)]",
        "field_type": "Account < 'info , Profile >"
      },
      {
        "name": "user",
        "attribute": "# [account (mut)]",
        "field_type": "Signer < 'info >"
      },
      {
        "name": "system_program",
        "attribute": null,
        "field_type": "Program < 'info , System >"
      }
    ],
    "inputs": null,
    "attributes": null,
    "body": null
  },
  {
    "name": "UpdateProfile",
    "node_type": "struct",
    "fields": [
      {
        "name": "profile",
        "attribute": "# [account (mut , seeds = [b\"profile\" , user . key () . as_ref ()] , bump , has_one = owner)]",
        "field_type": "Account < 'info , Profile >"
      },
      {
        "name": "user",
        "attribute": null,
        "field_type": "Signer < 'info >"
      }
    ],
    "inputs": null,
    "attributes": null,
    "body": null
  },
  {
    "name": "Profile",
    "node_type": "struct",
    "fields": [
      {
        "name": "owner",
        "attribute": null,
        "field_type": "Pubkey"
      },
      {
        "name": "name",
        "attribute": null,
        "field_type": "String"
      },
      {
        "name": "bio",
        "attribute": null,
        "field_type": "String"
      },
      {
        "name": "experience",
        "attribute": null,
        "field_type": "u64"
      },
      {
        "name": "rank",
        "attribute": null,
        "field_type": "u64"
      }
    ],
    "inputs": null,
    "attributes": null,
    "body": null
  }
]