[
  {
    "name": "build_promotions",
    "node_type": "function",
    "fields": null,
    "inputs": [
      "ctx: Context < BuildPromotions >",
      "premium_features_enabled: bool"
    ],
    "attributes": [],
    "body": [
      "let now = Clock :: get () ? . unix_timestamp ;",
      "let mut boosts : Vec < PromotionalBoost > = Vec :: new () ;",
      "if premium_features_enabled",
      "{",
      "boosts . push (PromotionalBoost",
      "{",
      "boost_type : BoostType :: FeaturedPlacement , duration_hours : 24 , cost_paid : 200 , activation_time : now }) ;",
      "boosts . push (PromotionalBoost",
      "{",
      "boost_type : BoostType :: HighlightListing , duration_hours : 48 , cost_paid : 150 , activation_time : now }) ;",
      "boosts . push (PromotionalBoost",
      "{",
      "boost_type : BoostType :: CrossCategoryPromotion , duration_hours : 72 , cost_paid : 300 , activation_time : now }) ;",
      "}",
      "if ! premium_features_enabled",
      "{",
      "boosts . push (PromotionalBoost",
      "{",
      "boost_type : BoostType :: BasicVisibility , duration_hours : 12 , cost_paid : 50 , activation_time : now }) ;",
      "}",
      "ctx . accounts . promo . promotional_boosts = boosts ;",
      "Ok (())"
    ]
  },
  {
    "name": "BuildPromotions",
    "node_type": "struct",
    "fields": [
      {
        "name": "promo",
        "attribute": "# [account (init , payer = marketer , space = 8 + PromoTable :: LEN , seeds = [b\"promo\" , marketer . key () . as_ref ()] , bump)]",
        "field_type": "Account < 'info , PromoTable >"
      },
      {
        "name": "marketer",
        "attribute": "# [account (mut)]",
        "field_type": "Signer < 'info >"
      },
      {
        "name": "system_program",
        "attribute": null,
        "field_type": "Program < 'info , System >"
      }
    ],
    "inputs": null,
    "attributes": null,
    "body": null
  },
  {
    "name": "PromoTable",
    "node_type": "struct",
    "fields": [
      {
        "name": "promotional_boosts",
        "attribute": null,
        "field_type": "Vec < PromotionalBoost >"
      }
    ],
    "inputs": null,
    "attributes": null,
    "body": null
  },
  {
    "name": "PromotionalBoost",
    "node_type": "struct",
    "fields": [
      {
        "name": "boost_type",
        "attribute": null,
        "field_type": "BoostType"
      },
      {
        "name": "duration_hours",
        "attribute": null,
        "field_type": "u32"
      },
      {
        "name": "cost_paid",
        "attribute": null,
        "field_type": "u64"
      },
      {
        "name": "activation_time",
        "attribute": null,
        "field_type": "i64"
      }
    ],
    "inputs": null,
    "attributes": null,
    "body": null
  }
]