[
  {
    "name": "init_profile",
    "node_type": "function",
    "fields": null,
    "inputs": [
      "ctx: Context < InitProfile >",
      "player_name: String",
      "skill: u64"
    ],
    "attributes": [],
    "body": [
      "let p = & mut ctx . accounts . profile ;",
      "p . player = ctx . accounts . player . key () ;",
      "p . player_name = player_name ;",
      "p . skill_level = skill ;",
      "p . wins = 0 ;",
      "p . losses = 0 ;",
      "p . current_win_streak = 0 ;",
      "p . championships_won = 0 ;",
      "p . tournament_earnings = 0 ;",
      "p . elimination_round = 0 ;",
      "p . equipped_items = vec ! [] ;",
      "Ok (())"
    ]
  },
  {
    "name": "add_equipment",
    "node_type": "function",
    "fields": null,
    "inputs": [
      "ctx: Context < MutProfile >",
      "item_id: u32",
      "kind: u8",
      "power: u64",
      "enhance: u32"
    ],
    "attributes": [],
    "body": [
      "let pf = & mut ctx . accounts . profile ;",
      "let eq = Equipment { item_id , equipment_type : EquipmentType :: from_index (kind) , power_level : power , enhancement_level : enhance , } ;",
      "pf . equipped_items . push (eq) ;",
      "Ok (())"
    ]
  },
  {
    "name": "record_result",
    "node_type": "function",
    "fields": null,
    "inputs": [
      "ctx: Context < MutProfile >",
      "win: bool",
      "reward: u64",
      "round: u32"
    ],
    "attributes": [],
    "body": [
      "let pf = & mut ctx . accounts . profile ;",
      "if win",
      "{",
      "pf . wins = pf . wins . saturating_add (1) ;",
      "pf . current_win_streak = pf . current_win_streak . saturating_add (1) ;",
      "pf . tournament_earnings = pf . tournament_earnings . saturating_add (reward) ;",
      "} else",
      "{",
      "pf . losses = pf . losses . saturating_add (1) ;",
      "pf . current_win_streak = 0 ;",
      "pf . elimination_round = round ;",
      "}",
      "Ok (())"
    ]
  },
  {
    "name": "InitProfile",
    "node_type": "struct",
    "fields": [
      {
        "name": "profile",
        "attribute": "# [account (init , payer = player , space = 8 + PlayerProfile :: MAX_SIZE)]",
        "field_type": "Account < 'info , PlayerProfile >"
      },
      {
        "name": "player",
        "attribute": "# [account (mut)]",
        "field_type": "Signer < 'info >"
      },
      {
        "name": "system_program",
        "attribute": null,
        "field_type": "Program < 'info , System >"
      }
    ],
    "inputs": null,
    "attributes": null,
    "body": null
  },
  {
    "name": "MutProfile",
    "node_type": "struct",
    "fields": [
      {
        "name": "profile",
        "attribute": "# [account (mut , has_one = player)]",
        "field_type": "Account < 'info , PlayerProfile >"
      },
      {
        "name": "player",
        "attribute": null,
        "field_type": "Signer < 'info >"
      }
    ],
    "inputs": null,
    "attributes": null,
    "body": null
  },
  {
    "name": "PlayerProfile",
    "node_type": "struct",
    "fields": [
      {
        "name": "player",
        "attribute": null,
        "field_type": "Pubkey"
      },
      {
        "name": "player_name",
        "attribute": null,
        "field_type": "String"
      },
      {
        "name": "skill_level",
        "attribute": null,
        "field_type": "u64"
      },
      {
        "name": "wins",
        "attribute": null,
        "field_type": "u32"
      },
      {
        "name": "losses",
        "attribute": null,
        "field_type": "u32"
      },
      {
        "name": "current_win_streak",
        "attribute": null,
        "field_type": "u32"
      },
      {
        "name": "championships_won",
        "attribute": null,
        "field_type": "u32"
      },
      {
        "name": "tournament_earnings",
        "attribute": null,
        "field_type": "u64"
      },
      {
        "name": "elimination_round",
        "attribute": null,
        "field_type": "u32"
      },
      {
        "name": "equipped_items",
        "attribute": null,
        "field_type": "Vec < Equipment >"
      }
    ],
    "inputs": null,
    "attributes": null,
    "body": null
  },
  {
    "name": "Equipment",
    "node_type": "struct",
    "fields": [
      {
        "name": "item_id",
        "attribute": null,
        "field_type": "u32"
      },
      {
        "name": "equipment_type",
        "attribute": null,
        "field_type": "EquipmentType"
      },
      {
        "name": "power_level",
        "attribute": null,
        "field_type": "u64"
      },
      {
        "name": "enhancement_level",
        "attribute": null,
        "field_type": "u32"
      }
    ],
    "inputs": null,
    "attributes": null,
    "body": null
  }
]