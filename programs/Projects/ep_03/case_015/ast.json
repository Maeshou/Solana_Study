[
  {
    "name": "complete_daily_quest",
    "node_type": "function",
    "fields": null,
    "inputs": [
      "ctx: Context < CompleteDailyQuest >"
    ],
    "attributes": [
      "# [doc = \" 毎日のクエスト完了を記録し、報酬を付与するが、\"]",
      "# [doc = \" quest_account.owner と ctx.accounts.user.key() の照合チェックがない\"]"
    ],
    "body": [
      "let quest = & mut ctx . accounts . quest_account ;",
      "let reward = & mut ctx . accounts . reward_account ;",
      "quest . completed = true ;",
      "reward . points = reward . points . checked_add (ctx . accounts . config . quest_reward) . unwrap () ;",
      "Ok (())"
    ]
  },
  {
    "name": "CompleteDailyQuest",
    "node_type": "struct",
    "fields": [
      {
        "name": "quest_account",
        "attribute": "# [account (mut)] # [doc = \" 本来は #[account(has_one = owner)] を付けて quest_account.owner と user.key() を照合すべき\"]",
        "field_type": "Account < 'info , QuestAccount >"
      },
      {
        "name": "reward_account",
        "attribute": "# [account (mut)] # [doc = \" 本来は #[account(has_one = owner)] を付けて reward_account.owner と user.key() を照合すべき\"]",
        "field_type": "Account < 'info , RewardAccount >"
      },
      {
        "name": "user",
        "attribute": "# [doc = \" クエストを完了したユーザー（署名者）\"]",
        "field_type": "Signer < 'info >"
      },
      {
        "name": "config",
        "attribute": "# [doc = \" クエスト報酬量を保持する設定アカウント\"]",
        "field_type": "Account < 'info , QuestConfig >"
      }
    ],
    "inputs": null,
    "attributes": null,
    "body": null
  },
  {
    "name": "QuestAccount",
    "node_type": "struct",
    "fields": [
      {
        "name": "owner",
        "attribute": "# [doc = \" 本来このクエストを所有するユーザーの Pubkey\"]",
        "field_type": "Pubkey"
      },
      {
        "name": "quest_id",
        "attribute": "# [doc = \" クエストの識別子\"]",
        "field_type": "u8"
      },
      {
        "name": "completed",
        "attribute": "# [doc = \" クエスト完了済みフラグ\"]",
        "field_type": "bool"
      }
    ],
    "inputs": null,
    "attributes": null,
    "body": null
  },
  {
    "name": "RewardAccount",
    "node_type": "struct",
    "fields": [
      {
        "name": "owner",
        "attribute": "# [doc = \" 本来この報酬口座を所有するユーザーの Pubkey\"]",
        "field_type": "Pubkey"
      },
      {
        "name": "points",
        "attribute": "# [doc = \" 累積ポイント\"]",
        "field_type": "u64"
      }
    ],
    "inputs": null,
    "attributes": null,
    "body": null
  },
  {
    "name": "QuestConfig",
    "node_type": "struct",
    "fields": [
      {
        "name": "quest_reward",
        "attribute": "# [doc = \" クエスト完了時の付与ポイント\"]",
        "field_type": "u64"
      }
    ],
    "inputs": null,
    "attributes": null,
    "body": null
  }
]