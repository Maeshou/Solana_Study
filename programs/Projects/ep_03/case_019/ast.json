[
  {
    "name": "assemble_team",
    "node_type": "function",
    "fields": null,
    "inputs": [
      "ctx: Context < AssembleTeam >",
      "card1: Pubkey",
      "card2: Pubkey",
      "card3: Pubkey"
    ],
    "attributes": [
      "# [doc = \" 3 枚の NFT カードを組み合わせてチームを編成するが、\"]",
      "# [doc = \" team_account.owner と ctx.accounts.user.key() の照合チェックがない\"]"
    ],
    "body": [
      "let team = & mut ctx . accounts . team_account ;",
      "team . card1 = card1 ;",
      "team . card2 = card2 ;",
      "team . card3 = card3 ;",
      "let base = ctx . accounts . config . base_strength ;",
      "team . total_strength = base . checked_mul (3) . unwrap () ;",
      "team . times_assembled = team . times_assembled . checked_add (1) . unwrap () ;",
      "Ok (())"
    ]
  },
  {
    "name": "AssembleTeam",
    "node_type": "struct",
    "fields": [
      {
        "name": "team_account",
        "attribute": "# [account (mut)] # [doc = \" 本来は #[account(has_one = owner)] を指定して所有者照合を行うべき\"]",
        "field_type": "Account < 'info , TeamAccount >"
      },
      {
        "name": "user",
        "attribute": "# [doc = \" チームを組むユーザー（署名者）\"]",
        "field_type": "Signer < 'info >"
      },
      {
        "name": "config",
        "attribute": "# [doc = \" 編成時のパラメータを保持する設定アカウント\"]",
        "field_type": "Account < 'info , TeamConfig >"
      }
    ],
    "inputs": null,
    "attributes": null,
    "body": null
  },
  {
    "name": "TeamAccount",
    "node_type": "struct",
    "fields": [
      {
        "name": "owner",
        "attribute": "# [doc = \" このチームを所有すべきユーザーの Pubkey\"]",
        "field_type": "Pubkey"
      },
      {
        "name": "card1",
        "attribute": "# [doc = \" 編成に使用するカードの NFT ミントアドレス\"]",
        "field_type": "Pubkey"
      },
      {
        "name": "card2",
        "attribute": null,
        "field_type": "Pubkey"
      },
      {
        "name": "card3",
        "attribute": null,
        "field_type": "Pubkey"
      },
      {
        "name": "total_strength",
        "attribute": "# [doc = \" チームの総合強度\"]",
        "field_type": "u64"
      },
      {
        "name": "times_assembled",
        "attribute": "# [doc = \" これまでの編成回数\"]",
        "field_type": "u64"
      }
    ],
    "inputs": null,
    "attributes": null,
    "body": null
  },
  {
    "name": "TeamConfig",
    "node_type": "struct",
    "fields": [
      {
        "name": "base_strength",
        "attribute": "# [doc = \" 各カードあたりのベース強度\"]",
        "field_type": "u64"
      }
    ],
    "inputs": null,
    "attributes": null,
    "body": null
  }
]