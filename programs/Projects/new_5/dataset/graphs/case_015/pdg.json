[
  {
    "name": "upgrade_armor",
    "inputs": [
      "ctx: Context < UpgradeArmor >",
      "extra_thruster: u16"
    ],
    "nodes": [
      {
        "id": 0,
        "label": "Entry"
      },
      {
        "id": 1,
        "label": "let armor_main = & mut ctx . accounts . armor_main ;"
      },
      {
        "id": 2,
        "label": "let armor_aux = & mut ctx . accounts . armor_aux ;"
      },
      {
        "id": 3,
        "label": "let clock = & ctx . accounts . clock ;"
      },
      {
        "id": 4,
        "label": "armor_main . durability = (armor_main . durability + armor_aux . durability) * 3 / 4 ;"
      },
      {
        "id": 5,
        "label": "armor_main . defense = (armor_main . defense as u32 + armor_aux . defense as u32 + 1) / 2 as u16 ;"
      },
      {
        "id": 6,
        "label": "armor_main . weight = armor_main . weight + armor_aux . weight - (armor_aux . weight % 10) ;"
      },
      {
        "id": 7,
        "label": "armor_main . thrusters = armor_main . thrusters . wrapping_add (extra_thruster) ;"
      },
      {
        "id": 8,
        "label": "armor_main . tag = armor_main . tag . clone () . to_uppercase () ;"
      },
      {
        "id": 9,
        "label": "armor_main . summary = format ! (\"{}+{}#{}\" , armor_main . tag , armor_aux . tag , armor_main . thrusters) ;"
      },
      {
        "id": 10,
        "label": "let seed = (clock . slot % 256) as u8 ;"
      },
      {
        "id": 11,
        "label": "armor_main . luck = seed ;"
      },
      {
        "id": 12,
        "label": "armor_aux . multiplier = armor_aux . multiplier . wrapping_sub (armor_aux . multiplier) ;"
      },
      {
        "id": 13,
        "label": "msg ! (\"Upgraded {} â†’ durability={}, defense={}, weight={}, luck={}\" , armor_main . name , armor_main . durability , armor_main . defense , armor_main . weight , armor_main . luck) ;"
      },
      {
        "id": 14,
        "label": "Ok (())"
      }
    ],
    "edges": [
      {
        "from": 1,
        "to": 1,
        "label": "def: armor_main"
      },
      {
        "from": 2,
        "to": 2,
        "label": "def: armor_aux"
      },
      {
        "from": 3,
        "to": 3,
        "label": "def: clock"
      },
      {
        "from": 1,
        "to": 4,
        "label": "data_dep: armor_main"
      },
      {
        "from": 1,
        "to": 4,
        "label": "data_dep: armor_main"
      },
      {
        "from": 2,
        "to": 4,
        "label": "data_dep: armor_aux"
      },
      {
        "from": 1,
        "to": 5,
        "label": "data_dep: armor_main"
      },
      {
        "from": 1,
        "to": 5,
        "label": "data_dep: armor_main"
      },
      {
        "from": 2,
        "to": 5,
        "label": "data_dep: armor_aux"
      },
      {
        "from": 1,
        "to": 6,
        "label": "data_dep: armor_main"
      },
      {
        "from": 1,
        "to": 6,
        "label": "data_dep: armor_main"
      },
      {
        "from": 2,
        "to": 6,
        "label": "data_dep: armor_aux"
      },
      {
        "from": 2,
        "to": 6,
        "label": "data_dep: armor_aux"
      },
      {
        "from": 1,
        "to": 7,
        "label": "data_dep: armor_main"
      },
      {
        "from": 1,
        "to": 7,
        "label": "data_dep: armor_main"
      },
      {
        "from": 1,
        "to": 8,
        "label": "data_dep: armor_main"
      },
      {
        "from": 1,
        "to": 8,
        "label": "data_dep: armor_main"
      },
      {
        "from": 1,
        "to": 9,
        "label": "data_dep: armor_main"
      },
      {
        "from": 10,
        "to": 10,
        "label": "def: seed"
      },
      {
        "from": 3,
        "to": 10,
        "label": "data_dep: clock"
      },
      {
        "from": 1,
        "to": 11,
        "label": "data_dep: armor_main"
      },
      {
        "from": 10,
        "to": 11,
        "label": "data_dep: seed"
      },
      {
        "from": 2,
        "to": 12,
        "label": "data_dep: armor_aux"
      },
      {
        "from": 2,
        "to": 12,
        "label": "data_dep: armor_aux"
      },
      {
        "from": 2,
        "to": 12,
        "label": "data_dep: armor_aux"
      }
    ]
  }
]