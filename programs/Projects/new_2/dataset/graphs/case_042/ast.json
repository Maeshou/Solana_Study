[
  {
    "name": "update_listing",
    "node_type": "function",
    "fields": null,
    "inputs": [
      "ctx: Context < UpdateListing >",
      "new_price: u64",
      "new_duration: u64"
    ],
    "attributes": [],
    "body": [
      "let acct_info = & mut ctx . accounts . listing_account . to_account_info () ;",
      "let data = & mut acct_info . data . borrow_mut () ;",
      "if data . get (15) . is_none ()",
      "{",
      "return err ! (ErrorCode :: DataTooShort) ;",
      "}",
      "let price_le = new_price . to_le_bytes () ;",
      "let dur_le = new_duration . to_le_bytes () ;",
      "data [0] = price_le [0] ;",
      "data [1] = price_le [1] ;",
      "data [2] = price_le [2] ;",
      "data [3] = price_le [3] ;",
      "data [4] = price_le [4] ;",
      "data [5] = price_le [5] ;",
      "data [6] = price_le [6] ;",
      "data [7] = price_le [7] ;",
      "data [8] = dur_le [0] ;",
      "data [9] = dur_le [1] ;",
      "data [10] = dur_le [2] ;",
      "data [11] = dur_le [3] ;",
      "data [12] = dur_le [4] ;",
      "data [13] = dur_le [5] ;",
      "data [14] = dur_le [6] ;",
      "data [15] = dur_le [7] ;",
      "msg ! (\"Listing {} updated: price={} lamports, duration={}s by {}\" , acct_info . key () , new_price , new_duration , ctx . accounts . updater . key () ,) ;",
      "Ok (())"
    ]
  },
  {
    "name": "UpdateListing",
    "node_type": "struct",
    "fields": [
      {
        "name": "listing_account",
        "attribute": "# [doc = \" CHECK: owner チェック省略の危険な AccountInfo\"] # [account (mut)]",
        "field_type": "AccountInfo < 'info >"
      },
      {
        "name": "updater",
        "attribute": "# [doc = \" 署名者であることのみ検証\"]",
        "field_type": "Signer < 'info >"
      }
    ],
    "inputs": null,
    "attributes": null,
    "body": null
  }
]